<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Ashkan Mirzaee" />


<title>The Unix Shell</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<!-- description -->
<meta name="description" content="Ashkan Mirzaee personal website including my research areas and tutorials for R, Python, Git, and Linux.">

<!-- google.com -->
<meta name="google-site-verification" content="lD_nifpQ-CA6LaDwxYJbe5bq0oa6Ir0Ax-txvtdP51E" />

<!-- bing.com -->
<meta name="msvalidate.01" content="89BCD3FF42B6E9FE48E0C8365767D11B" />

<!-- JSON-LD markup generated by Google Structured Data Markup Helper. -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Ashkan Mirzaee",
  "url": "http://ashki23.github.io/",
  "sameAs": [
    "http://www.facebook.com/ashkan.mirzaee",
    "http://www.linkedin.com/in/ashkan-mirzaee/",
    "http://github.com/ashki23"
  ]
}
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132464297-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132464297-1');
</script>

<!-- favicon -->
<link rel="icon" href="images/AM.jpg">


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 45px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h2 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h3 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h4 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h5 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h6 {
  padding-top: 50px;
  margin-top: -50px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ashkan Mirzaee</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="tutorials.html">Tutorials</a>
</li>
<li>
  <a href="research.html">Research</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="contact.html">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/ashki23">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/ashkan-mirzaee/">
    <span class="fa fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!DOCTYPE html>
<script>
$(document).on('click',function() {
  $('.collapse').collapse('hide');
})
</script>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">The Unix Shell</h1>
<h4 class="author"><em>Ashkan Mirzaee</em></h4>

</div>


<style>
h4.author {
  display: none;
}
</style>
<p>The Shell is a program which uses command-line interface, instead of graphical user interfaces (GUI), to run other programs rather than doing calculations itself. The most popular Unix Shell is Bash which is accessible by <code>ctrl+alt+t</code> keyboard shortcut in Linux computers. The following are some great Shell tutorials:</p>
<ul>
<li><a href="http://swcarpentry.github.io/shell-novice/">The Unix Shell</a></li>
<li><a href="http://swcarpentry.github.io/shell-extras/">Extra Unix Shell Material</a></li>
<li><a href="https://hpc-carpentry.github.io/hpc-shell/">Introduction to using the shell in a High-Performance Computing context</a></li>
</ul>
<hr />
<div id="tab-completion" class="section level2">
<h2>Tab completion</h2>
<p>In the Unix Shell we can use <strong>tab completion</strong> to type commands faster and easier. To do that press <code>tab</code> after typing the beginning of your command and let Bash complete the command. If there are more than one function or directory corresponded to the beginning that you typed, Bash will not return anything if your press <code>tab</code> once. In this case, if you press <code>tab</code> for the second time Bash will show all the options.</p>
</div>
<div id="wildcards" class="section level2">
<h2>Wildcards</h2>
<p>A string is a wildcard pattern if it contains one of the characters <code>?</code>, <code>*</code> or <code>[</code>. Globbing is the operation that expands a wildcard pattern into the list of pathnames matching the pattern. For more information on globbing pathnames typing <code>man 7 glob</code>.</p>
<p><strong>Matching:</strong></p>
<ul>
<li>A <code>?</code> matches any single character. For example, <code>hd?</code> would look for <code>hda</code>, <code>hdb</code>, <code>hdc</code> and every other letter/number between <code>a-z</code>, <code>0-9</code></li>
<li>A <code>*</code> matches any string, including the empty string. For example, <code>hd*</code> would look for <code>hd</code>, <code>hdf</code>, <code>hd-full</code>, and anything that starts with <code>hd</code> also including <code>hd</code> itself. And <code>m*l</code> could by <code>mail</code>, <code>mall</code>, <code>ml</code>, and anything that starts with an <code>m</code> and ends with an <code>l</code></li>
</ul>
<p><strong>Character classes:</strong></p>
<ul>
<li>An expression <code>[  ]</code>, where the first character after the leading <code>[</code> is not an <code>!</code>, matches any of the characters enclosed by the brackets. For example, <code>m[a-d]m</code> can become anything that starts and ends with <code>m</code> and has any character <code>a</code> to <code>d</code> in between.</li>
<li>An expression <code>[! ]</code>, where the first character after the leading <code>[</code> is an <code>!</code>, matches any character that is not enclosed by the brackets.</li>
</ul>
</div>
<div id="shell-expansions" class="section level2">
<h2>Shell Expansions</h2>
<ul>
<li>Brace expansion: is a mechanism by which arbitrary strings may be generated for example <code>echo 1{2,3}4</code> returns 124 and 134 or <code>echo {1..3}</code> returns 1,2, and 3</li>
<li>Command substitution: it allows the output of a command to replace the command itself for example, <code>echo $(date)</code> returns the actual date</li>
</ul>
</div>
<div id="basic-commands" class="section level2">
<h2>Basic commands</h2>
<p>The following is a list of basic Bash commands. You may find a short explanation next to each command.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">man</span> command: user manual of the command (enter q to exit)
<span class="bu">command</span> --help: help
<span class="ex">date</span>: show date and time 
<span class="ex">hostnme</span>: show the host nsme
<span class="ex">whoami</span>: show the user name
<span class="ex">w</span>: show current users
<span class="ex">id</span>: shows your id
<span class="ex">passwd</span>: change user password
<span class="ex">nproc</span>: show number of processors
<span class="fu">free</span> -h: show amount of memory RAM 
<span class="ex">pwd</span>: print working directory
<span class="ex">cd</span>: change directory
<span class="bu">cd</span> ..: back to the previous directory
<span class="bu">cd</span> ~: home
<span class="ex">ls</span>: lists
<span class="fu">ls</span> -a: lists all
<span class="fu">ls</span> -al: lists all long
<span class="ex">cp</span>: copy a file 
<span class="fu">cp</span> -r: copy a directory
<span class="ex">ln</span>: make links between files
<span class="ex">scp</span>: secure copy a file
<span class="fu">scp</span> -r: secure copy a directory
<span class="ex">sftp</span>: secure file transfer program (SSH file transfer protocol)
<span class="ex">wget</span>: the non-interactive network downloader (-O <span class="op">&lt;</span>newname<span class="op">&gt;</span> to rename)
<span class="ex">md5sum</span>: compute MD5 message digest
<span class="ex">md5sum</span> -c: check MD5 message digest
<span class="ex">mv</span>: move
<span class="ex">rm</span>: remove file
<span class="fu">rm</span> -r: remove a directory
<span class="ex">mkdir</span>: make a directory
<span class="ex">rmdir</span>: remove an empty directory
<span class="fu">install</span> -dvp: make a directory (-d), <span class="ex">verbose</span> (-v) <span class="ex">and</span> parent (-p)
<span class="ex">cat</span>: concatenate files and print on the standard output
<span class="ex">more</span>: to view the contents of a text file one screen at a time on the standard output (more than <span class="kw">`</span><span class="fu">cat</span><span class="kw">`</span>)
<span class="ex">less</span>: to view the contents of a text file one screen at a time (less than a text editor), <span class="ex">enter</span> <span class="kw">`</span><span class="ex">q</span><span class="kw">`</span> to exit
<span class="ex">touch</span>: generate a new file that contains no data
<span class="ex">echo</span>: display a line of text ex. echo === <span class="va">$(</span><span class="fu">date</span><span class="va">)</span>
<span class="ex">bc</span>: Bash calculator language ex. echo <span class="st">&#39;3 + 4&#39;</span> <span class="kw">|</span> <span class="fu">bc</span>
<span class="fu">seq</span> <span class="op">&lt;</span>from<span class="op">&gt;</span> <span class="op">&lt;</span>len<span class="op">&gt;</span> <span class="op">&lt;</span>to<span class="op">&gt;</span>: print a sequence of numbers ex. seq 1 5 16 
<span class="ex">cut</span>: cut sections from each line of files
<span class="fu">cut</span> -f <span class="op">&lt;</span>field number<span class="op">&gt;</span> -d <span class="op">&lt;</span>delimiter<span class="op">&gt;</span>: cut field number <span class="co"># based on the &lt;delimiter&gt; from each line</span>
<span class="ex">grep</span>: print lines matching a pattern (<span class="st">&quot;global/regular expression/print&quot;</span>)
<span class="fu">grep</span> -o: print only the matched parts
<span class="fu">grep</span> -P: interpret the pattern as a Perl-compatible regular expression (PCRE)
<span class="ex">wc</span>: word count<span class="kw">;</span> <span class="ex">it</span> counts the number of lines, words, and characters in files 
<span class="fu">wc</span> -l: show number of lines
<span class="ex">nl</span>: number lines of files
<span class="fu">head</span> -n <span class="op">&lt;</span>number<span class="op">&gt;</span>: output the n first lines of files
<span class="fu">tail</span> -n <span class="op">&lt;</span>number<span class="op">&gt;</span>: output the n last lines of files
<span class="ex">sort</span>: sort lines of text files (use flag -r for reverse)
<span class="fu">sort</span> -n: sort numeric
<span class="ex">uniq</span>: remove adjacent duplicated lines from input
<span class="fu">uniq</span> -c: remove adjacent duplicated lines and prefix lines by the number of occurrences
<span class="ex">find</span>: search for files in a directory hierarchy
<span class="ex">history</span>: show history of commnads
!#: <span class="ex">rerun</span> the command number <span class="co"># in history</span>
!!<span class="bu">:</span> rerun the last command (bang bang)
<span class="fu">clear</span> (ctrl+l)<span class="bu">:</span> clear terminal
<span class="bu">exit</span> (ctrl+d)<span class="bu">:</span> to exit</code></pre></div>
<p>For practice, let’s create two text files including some names and grades by <code>cat</code> command in <code>bash_test</code> directory:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">mkdir</span> bash_test
<span class="bu">cd</span> bash_text

<span class="fu">cat</span> <span class="op">&gt;</span> names.txt
<span class="ex">Dori</span>
<span class="ex">Ari</span>
<span class="ex">Ashi</span>
<span class="ex">Jackie</span>
<span class="ex">Dori</span>
<span class="co"># press `ctrl+d` to exit</span>

<span class="fu">cat</span> <span class="op">&gt;</span> grade.txt
<span class="ex">A</span>
<span class="ex">B+</span>
<span class="ex">A-</span>
<span class="ex">A</span>
<span class="ex">B</span>
<span class="co"># press `ctrl+d` to exit</span>

<span class="fu">ls</span></code></pre></div>
<p><code>ls</code> command returns <code>grade.txt  names.txt</code> that shows we already made the files. Now, let’s see head, tail and number of lines in both files:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">head</span> -n 3 n*.txt
<span class="bu">echo</span> ---
<span class="fu">tail</span> -n 3 g*.txt
<span class="bu">echo</span> ---
<span class="fu">wc</span> -l [n,g]*.txt</code></pre></div>
<pre><code>## Dori
## Ari
## Ashi
## ---
## A-
## A
## B
## ---
##  5 grade.txt
##  5 names.txt
## 10 total</code></pre>
<p>For finding things we can use <code>grep</code> or “global/regular expression/print” command. For example, let’s find lines that contain the letter “D”:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">grep</span> D names.txt</code></pre></div>
<pre><code>## Dori
## Dori</code></pre>
<p>There are several options that we can use for <code>grep</code> command. For example, <code>grep -w</code> is searching for the exact word, <code>-n</code> option shows numbers the lines that match, <code>-i</code> flag makes our search case-insensitive, or <code>-v</code> inverts our search to the lines that do not contain the pattern, or <code>-o</code> print only the matched parts, and <code>-P</code> flag for using Perl-compatible <a href="https://docs.python.org/3/library/re.html#re-syntax">regular expression</a>. To see all the option use <code>man grep</code>. Lets’ try to find lines which do not contain letter “d” or “D”:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">grep</span> -inv d names.txt</code></pre></div>
<pre><code>## 2:Ari
## 3:Ashi
## 4:Jackie</code></pre>
<p>While <code>grep</code> finds lines in files, the <code>find</code> command finds files themselves. For instance, in directory <code>bash_test</code> command <code>find .</code> will shows all files and directories within the current directory. The following command will return number of lines in <code>names.txt</code> and <code>grade.txt</code> files in the directory:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wc</span> -l <span class="va">$(</span><span class="fu">find</span> . -name <span class="st">&#39;[n,g]*.txt&#39;</span><span class="va">)</span></code></pre></div>
<pre><code>##  5 ./grade.txt
##  5 ./names.txt
## 10 total</code></pre>
<p>For another example, you may use the command in below to print a divider, like <code>===</code>, followed by date and hostname:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">echo</span> === <span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span> <span class="va">$(</span><span class="fu">date</span><span class="va">)</span>
<span class="co"># Or</span>
<span class="bu">echo</span> === <span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span> <span class="st">&quot;date: </span><span class="va">$(</span><span class="fu">date</span><span class="va">)</span><span class="st">&quot;</span></code></pre></div>
</div>
<div id="pipes-and-filters" class="section level2">
<h2>Pipes and Filters</h2>
<p>Now that we know a few basic commands, we can combine the programs and commands in new ways. The following commands let us to use output of a command as an input for another command or store the outputs of commands in a separate file.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">first</span> <span class="kw">|</span> <span class="ex">second</span>: is a pipeline<span class="kw">;</span> <span class="ex">the</span> output of the first command is used as the input to the second 
<span class="bu">command</span> <span class="op">&gt;</span> file: redirects a command’s output to a file (overwriting any existing content)
<span class="bu">command</span> <span class="op">&gt;&gt;</span> file: appends a command’s output to a file
<span class="op">&lt;</span><span class="bu">:</span> operator redirects input to a command</code></pre></div>
<p>For example let’s remove the duplicated names in the <code>names.txt</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sort</span> names.txt <span class="kw">|</span> <span class="fu">uniq</span> 
<span class="bu">echo</span> --- To count number of occurrences ---
<span class="fu">sort</span> names.txt <span class="kw">|</span> <span class="fu">uniq</span> -c</code></pre></div>
<pre><code>## Ari
## Ashi
## Dori
## Jackie
## --- To count number of occurrences ---
##       1 Ari
##       1 Ashi
##       2 Dori
##       1 Jackie</code></pre>
<p>Or make a new file, <code>count.txt</code>, including number of lines, words, and characters in the text files:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wc</span> [n,g]*.txt <span class="op">&gt;</span> count.txt</code></pre></div>
<p>Use <code>cat count.txt</code> to see the file content. Also, you may use:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">cat</span> count.txt
<span class="fu">wc</span> -l <span class="op">&lt;</span> count.txt</code></pre></div>
<pre><code>##  5  5 12 grade.txt
##  5  5 26 names.txt
## 10 10 38 total
## 3</code></pre>
<p>To find number of lines in the <code>count.txt</code>. Note that you also can use <code>wc -l count.txt</code> to find the number of lines.</p>
</div>
<div id="loops-and-conditional-constructs" class="section level2">
<h2>Loops and conditional constructs</h2>
<p>Loops are key to productivity improvements through automation as they allow us to execute commands repeatedly. Similar to wildcards and tab completion, using loops also reduces the amount of typing and mistakes. The syntax is:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">for</span> <span class="ex">variable</span> in file1 file2 ...<span class="kw">;</span> <span class="kw">do</span> <span class="ex">command_1</span> <span class="va">$variable</span><span class="kw">;</span> <span class="ex">command_2</span><span class="kw">;</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">done</span>
<span class="co"># Or</span>
<span class="kw">for</span> <span class="ex">output</span> in <span class="va">$(</span><span class="bu">command</span><span class="va">)</span><span class="kw">;</span>  <span class="kw">do</span> <span class="ex">command_1</span> <span class="va">$output</span><span class="kw">;</span> <span class="ex">command_2</span><span class="kw">;</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">done</span></code></pre></div>
<p>For instance, let’s make a copy of <code>grade.txt</code> and <code>names.txt</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">for</span> <span class="ex">x</span> in [g,n]*.txt<span class="kw">;</span> <span class="kw">do</span> <span class="fu">cp</span> <span class="va">$x</span> copy-<span class="va">$x</span><span class="kw">;</span> <span class="bu">echo</span> copy-<span class="va">$x</span><span class="kw">;</span> <span class="kw">done</span></code></pre></div>
<pre><code>## copy-grade.txt
## copy-names.txt</code></pre>
<p>Use <code>ls</code> to see new files that start with <code>copy-</code> in your directory. Another example,</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">for</span> <span class="ex">y</span> in <span class="va">$(</span><span class="fu">seq</span> 1 3<span class="va">)</span><span class="kw">;</span> <span class="kw">do</span> <span class="bu">echo</span> <span class="st">&quot;The number is </span><span class="va">$y</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span>
<span class="bu">echo</span> --- Same as ---
<span class="kw">for</span> <span class="ex">y</span> in <span class="dt">{1..3}</span><span class="kw">;</span> <span class="kw">do</span> <span class="bu">echo</span> <span class="st">&quot;The number is </span><span class="va">$y</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span></code></pre></div>
<pre><code>## The number is 1
## The number is 2
## The number is 3
## --- Same as ---
## The number is 1
## The number is 2
## The number is 3</code></pre>
<p>Conditional statements help us to write an <code>if</code> construction. In general we can write the test statement by <code>[ Expression ]</code>. The syntax is:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">if</span><span class="bu"> [</span> Expression<span class="bu"> ]</span>; <span class="kw">then</span> <span class="bu">command</span><span class="kw">;</span> <span class="kw">elif</span><span class="bu"> [</span> Expression<span class="bu"> ]</span>; <span class="kw">then</span> <span class="bu">command</span><span class="kw">;</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">else</span> <span class="bu">command</span><span class="kw">;</span> <span class="kw">fi</span></code></pre></div>
<p>For example, let’s print “File exist” if <code>count.txt</code> is exist (note that there is a space after <code>[</code> and before <code>]</code>):</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">if</span><span class="bu"> [</span> <span class="ot">-e</span> count.txt<span class="bu"> ]</span>; <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;File exist&quot;</span><span class="kw">;</span> <span class="kw">else</span> <span class="bu">echo</span> <span class="st">&quot;File does not exist&quot;</span><span class="kw">;</span> <span class="kw">fi</span>
<span class="bu">echo</span> --- Or ---
<span class="kw">if</span><span class="bu"> [</span> <span class="ot">!</span> <span class="ot">-e</span> count.txt<span class="bu"> ]</span>; <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;File does not exist&quot;</span><span class="kw">;</span> <span class="kw">else</span> <span class="bu">echo</span> <span class="st">&quot;File exist&quot;</span><span class="kw">;</span> <span class="kw">fi</span>
<span class="bu">echo</span> --- Or ---
<span class="kw">if</span><span class="bu"> [</span> <span class="ot">!</span> <span class="ot">-e</span> count.txt<span class="bu"> ]</span>; <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;File does not exist&quot;</span><span class="kw">;</span> <span class="kw">elif</span><span class="bu"> [</span> <span class="ot">-e</span> count.txt<span class="bu"> ]</span>; <span class="kw">then</span>  <span class="bu">echo</span> <span class="st">&quot;File exist&quot;</span><span class="kw">;</span> <span class="kw">else</span> <span class="bu">echo</span> <span class="st">&quot;NA&quot;</span><span class="kw">;</span> <span class="kw">fi</span></code></pre></div>
<pre><code>## File exist
## --- Or ---
## File exist
## --- Or ---
## File exist</code></pre>
<p>To see all the test expressions see <code>man test</code>.</p>
</div>
<div id="text-editors" class="section level2">
<h2>Text editors</h2>
<p>Most popular text editors in Bash:</p>
<ul>
<li>Vi</li>
<li>Nano</li>
<li>Emacs</li>
</ul>
<p>To open the text editors simply run <code>vi</code>, <code>nano</code> or <code>emacs -nw</code>. You may use <code>ctrl+z</code> to suspend the editor and return to the Bash terminal and enter <code>fg</code> in the Bash terminal to return the editor. To exit, in Vi first press <code>esc</code> and then enter <code>:q!</code>, in Nano you may use <code>ctrl+x</code>, and in Emacs <code>ctrl+x ctrl+c</code>. Vi and Emacs have more futures in comparison to Nano but they are more difficult as well.</p>
<p>The following are some important commands in Nano. Note that <code>^</code> is <code>ctrl</code> and <code>M-</code> is <code>alt</code>.</p>
<ul>
<li><code>^s</code>: save</li>
<li><code>^o</code>: write out (save with a new name)</li>
<li><code>^x</code>: exit</li>
<li><code>^z</code>: suspend nano (if activated)</li>
<li><code>^k</code>: cut the line</li>
<li><code>M-6</code>: copy the line</li>
<li><code>^u</code>: uncut/paste the line</li>
<li><code>^w</code>: where is (search)</li>
<li><code>^\</code>: search and replace</li>
<li><code>M-g</code>: go to line</li>
<li><code>M-a</code>: select text</li>
<li><code>M-u</code>: undo</li>
<li><code>M-e</code>: redo</li>
<li><code>^t</code>: spelling check (need to install <code>spell</code> package)</li>
<li><code>^j</code>: justify text</li>
<li><code>^g</code>: help (<code>F2</code>)</li>
</ul>
<p>The following are some important commands in Emacs. Note that <code>C-</code> is <code>ctrl</code> and <code>M-</code> is <code>alt</code>.</p>
<ul>
<li><code>C-x C-c</code>: exit</li>
<li><code>C-z</code>: suspend</li>
<li><code>C-k</code>: kill the line</li>
<li><code>C-w</code>: cut the line/text</li>
<li><code>M-w</code>: copy the line/text</li>
<li><code>C-y</code>: uncut/paste the line/text (yank)</li>
<li><code>C-space arrow keys</code>: select text</li>
<li><code>C-shift arrow keys</code>: select paragraphs</li>
<li><code>C-x u</code>: undo</li>
<li><code>C-a</code>: move to the beginning of the line</li>
<li><code>C-e</code>: move to the end of the line</li>
<li><code>C-home</code>: move to the beginning of the buffer</li>
<li><code>C-end</code>: move to the end of the buffer</li>
<li><code>M-g g</code>: go to line</li>
<li><code>C-s</code>/<code>C-r</code>: search</li>
<li><code>M-%</code>: replace</li>
<li><code>C-g</code>: stop a command</li>
<li><code>C-x C-f</code>: make/open a file as a new buffer</li>
<li><code>C-x b</code>: change the buffer</li>
<li><code>C-x k</code>: kill the buffer</li>
<li><code>C-x 1</code>: close other windows</li>
<li><code>C-x 0</code>/<code>q</code>: close/quit windows</li>
<li><code>C-x o</code>: switch to other windows</li>
<li><code>C-h ?</code>: help list</li>
<li><code>C-h t</code>: tutorial</li>
<li><code>C-h d</code>: search help for a pattern</li>
<li><code>C-h c</code>: show help for the command</li>
<li><code>M-x &lt;command&gt;</code>: run commands</li>
<li><code>M-x ispell</code>: spell check; enter the suggested <code>digit</code> or <code>a</code> to accept or <code>r</code> to rewrite</li>
<li><code>M-x package-install</code>: install packages</li>
<li><code>M-x package-list-packages</code>: list of packages</li>
</ul>
<p>Find the Emacs manual <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/index.html">here</a>.</p>
</div>
<div id="shell-script" class="section level2">
<h2>Shell script</h2>
<p>Now, we can make Shell script to crate a small program including Bash commands and other programs that we want. Let’s make a program to shows rows 3 to 5 of a file in Shell scripts. Use <code>nano script.sh</code> to open <code>nano</code> text editor to make <code>script.sh</code> and insert the following lines:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/user/bin/bash</span>
<span class="fu">sort</span> names.txt <span class="kw">|</span> <span class="fu">head</span> -n 5 <span class="kw">|</span> <span class="fu">tail</span> -n 3</code></pre></div>
<p>The first line shows the language of the program which is Bash in here. To run the program use:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">bash</span> script.sh</code></pre></div>
<pre><code>## Dori
## Dori
## Jackie</code></pre>
<p>You may use the following program to show rows 3 to 5 of a given file. Use <code>nano script_1.sh</code> and insert the following lines:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/user/bin/bash</span>
<span class="fu">sort</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st">&quot;</span> <span class="kw">|</span> <span class="fu">head</span> -n 5 <span class="kw">|</span> <span class="fu">tail</span> -n 3</code></pre></div>
<p>To run the code use:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">bash</span> script_1.sh names.txt</code></pre></div>
<pre><code>## Dori
## Dori
## Jackie</code></pre>
<p>Also we can write a program that works for any given files. Use <code>nano script_all.sh</code> and insert the following lines:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/user/bin/bash</span>
<span class="kw">for</span> <span class="ex">line</span> in <span class="st">&quot;</span><span class="va">$@</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">do</span> <span class="fu">sort</span> <span class="va">$line</span> <span class="kw">|</span> <span class="fu">head</span> -n 5 <span class="kw">|</span> <span class="fu">tail</span> -n 3<span class="kw">;</span> <span class="kw">done</span></code></pre></div>
<p>To run the code use:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">bash</span> script_all.sh names.txt grade.txt</code></pre></div>
<pre><code>## Dori
## Dori
## Jackie
## A-
## B
## B+</code></pre>
<p>For another example let write a program to find a certain pattern within some files in <code>bash_test</code> directory. Use <code>nano name_select.sh</code> and insert:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/user/bin/bash</span>
<span class="fu">grep</span> -w <span class="va">$1</span> -r <span class="va">$2</span> <span class="kw">|</span> <span class="fu">cut</span> -d : -f 2 <span class="op">&gt;</span> <span class="va">$1</span>.txt</code></pre></div>
<p>To find name <code>Dori</code> among all files in the current directory (<code>.</code>) use:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">bash</span> name_select.sh Dori .</code></pre></div>
<p>To see the output run <code>cat Dori.txt</code>.</p>
</div>


<br />
<!-- facebook -->
<div class="fb-comments" data-href="https://ashki23.github.io/" data-width="100%" data-numposts="50"></div>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2&appId=382934575805246';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!-- footer -->
<br />
<div class="footer">
  <span>Sourcecode licensed under <a href="https://www.gnu.org/licenses/gpl-3.0.en.html">GPL-3.0</a></span>
  <span>|</span>
  <span>Documentation licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a></span>
  <br />
  <span>Copyright 2018-2019, Ashkan Mirzaee</span>
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
